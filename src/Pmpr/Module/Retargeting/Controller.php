<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             694c43b0ef124             |
    |_______________________________________|
*/
 namespace Pmpr\Module\Retargeting; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Common\Foundation\REST\AbstractCoreController; use Pmpr\Module\Retargeting\Model\Interest; use WP_Error; use WP_REST_Request; class Controller extends AbstractCoreController { public function qiccuiwooiquycsg() { $this->prefix = 'retargeting'; } public function qyioasyaygeaouwq() { $this->ueegsaaqskeuyiaa('get-product', [$this, 'aqasygcsqysmmyke'])->ueegsaaqskeuyiaa('get-products', [$this, 'ageqswwkkqywckco'])->ueegsaaqskeuyiaa('sync-event', [$this, 'qiseeaqaqgqkiuok'], Constants::rkcekuukkmyekksa)->ueegsaaqskeuyiaa('sync-interest', [$this, 'ykccwqgkecaywims'], Constants::rkcekuukkmyekksa); } public function ykccwqgkecaywims(WP_REST_Request $aqmwamyiwgeeymqa) { $ogycymwmyguqcqim = $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::kasiqisuaessmwua); $umkkkaqkwugkemce = $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::woicooamkeqiaemo); $cqqoqmkemwkmiwiw = $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::eqokmeowucykoecy); if ($ogycymwmyguqcqim > 0 && $cqqoqmkemwkmiwiw && $umkkkaqkwugkemce) { $qioqusssqgowmcoq = $this->caokeucsksukesyo()->issssuygyewuaswa()->oawkkcesyskswomy($cqqoqmkemwkmiwiw, Constants::gouqcwikiiygyasc); if ($qioqusssqgowmcoq) { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $uqqowkmkwussgkqc = Interest::symcgieuakksimmu(); $wwumaumusaecieym = $uqqowkmkwussgkqc->iekyeyicoyyawomk()->oqomcmyuuakigusk([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::woicooamkeqiaemo, $umkkkaqkwugkemce), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::cmcqgcgqyckmiggk, $qioqusssqgowmcoq)]); $sogksuscggsicmac = null; if ($wwumaumusaecieym) { $qmyssqocmsmimyis = $uqqowkmkwussgkqc->waecsyqmwascmqoa($wwumaumusaecieym, Constants::kasiqisuaessmwua, 0); if ($ogycymwmyguqcqim !== $qmyssqocmsmimyis) { $sogksuscggsicmac = $uqqowkmkwussgkqc->gssiscqyqsacmeca()->eaywmggcsekawucw($wwumaumusaecieym, Constants::kasiqisuaessmwua, $ogycymwmyguqcqim); } } else { $sogksuscggsicmac = $uqqowkmkwussgkqc->gssiscqyqsacmeca()->gsegsiocqmsoayii([Constants::woicooamkeqiaemo => $umkkkaqkwugkemce, Constants::cmcqgcgqyckmiggk => $qioqusssqgowmcoq, Constants::kasiqisuaessmwua => $ogycymwmyguqcqim]); } if (is_wp_error($sogksuscggsicmac)) { $keccaugmemegoimu = $sogksuscggsicmac; } else { $keccaugmemegoimu = $this->qasywwyamoesisyi('ok'); } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Visitor not recognized.', PR__MDL__RETARGETING)); } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } return $keccaugmemegoimu; } public function qiseeaqaqgqkiuok(WP_REST_Request $aqmwamyiwgeeymqa) { $qioqusssqgowmcoq = $this->caokeucsksukesyo()->issssuygyewuaswa()->ecqiugqwquemomqk(Constants::gouqcwikiiygyasc); if ($qioqusssqgowmcoq) { $sqeykgyoooqysmca = $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::squoamkioomemiyi); switch ($sqeykgyoooqysmca) { case Constants::imywcsggckkcywgk: break; case Constants::yawuwekegeccikwu: break; case Constants::gmquuqmomuaqueyi: break; default: $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Type is not valid', PR__MDL__RETARGETING)); } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } return $keccaugmemegoimu; } public function aqasygcsqysmmyke(WP_REST_Request $aqmwamyiwgeeymqa) { $umkkkaqkwugkemce = $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::woicooamkeqiaemo); if ($umkkkaqkwugkemce) { $product = $this->caokeucsksukesyo()->aqasygcsqysmmyke()->get($umkkkaqkwugkemce); if ($product) { $keccaugmemegoimu = $this->qasywwyamoesisyi('ok', $this->kuwoeykwwigoeaoq($product)); } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Product not found', PR__MDL__RETARGETING)); } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } return $keccaugmemegoimu; } public function ageqswwkkqywckco(WP_REST_Request $aqmwamyiwgeeymqa) { $kuuqieuegewkqikq = $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::kmqmeaywmyiqqkqw, []); if ($kuuqieuegewkqikq) { $oksqskmgoqiqciis = $this->uwkmaywceaaaigwo()->aqasygcsqysmmyke()->ciugwooasaqcywas([Constants::ackcaikowcokggsc => $kuuqieuegewkqikq, Constants::cgiswgcumueqgcmw => -1]); $keccaugmemegoimu = $this->qasywwyamoesisyi('ok', [Constants::kmqmeaywmyiqqkqw => $this->eemoyouiwammskqs($oksqskmgoqiqciis)]); } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } return $keccaugmemegoimu; } private function eemoyouiwammskqs($oksqskmgoqiqciis) { foreach ($oksqskmgoqiqciis as $momcykaoccoymeig => $product) { $oksqskmgoqiqciis[$momcykaoccoymeig] = $this->kuwoeykwwigoeaoq($product); } return $oksqskmgoqiqciis; } private function kuwoeykwwigoeaoq($product) : array { $usmsssmiougymckk = $this->caokeucsksukesyo()->aqasygcsqysmmyke(); $umkkkaqkwugkemce = $usmsssmiougymckk->iooowgsqoyqseyuu($product); $guwumyyyakswawas = $this->caokeucsksukesyo()->ayueggmoqeeukqmq()->kckogqkiycqeumoa($umkkkaqkwugkemce, Constants::cmckeoksigiaqykc); $qsqwqsymmqeoqwcu = ['category_id' => $this->caokeucsksukesyo()->kckogqkiycqeumoa()->iooowgsqoyqseyuu($guwumyyyakswawas), 'thumbnail_alt' => $usmsssmiougymckk->ekskgmaskimmiqiq($product), Constants::qescuiwgsyuikume => $usmsssmiougymckk->qcgakseyaikigqco($product), Constants::acymsykymkiewqsy => $usmsssmiougymckk->owuaywucuaiyocum($product), Constants::egwoacukmsioosum => $usmsssmiougymckk->iaykyouimqoikagg($product), Constants::umyomemqwccgmuki => $usmsssmiougymckk->qqiwsumoyiukmgco($product), Constants::sauwwsocmukoaayu => $usmsssmiougymckk->ycqquoiyyuesegsy($product), Constants::woicooamkeqiaemo => $umkkkaqkwugkemce, Constants::ueasagmikqewqcay => $usmsssmiougymckk->iimgkucsckeosmmk($product), Constants::maeommgeswucqoca => $usmsssmiougymckk->asaycagaeksiumkw($product), Constants::eqkeooqcsscoggia => $usmsssmiougymckk->sceuewccmscogies($product), Constants::qkokyocyqyccmgks => $usmsssmiougymckk->scgumisucgwskyqk($product)]; return $this->ocksiywmkyaqseou('retargeting_rest_prepared_product', $qsqwqsymmqeoqwcu, $umkkkaqkwugkemce); } }
